<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Cultivate Forecasts API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="getting-started">Getting Started</h1>

<h2 id="environments">Environments</h2>

<p><a href="https://www.cultivatelabs.com/">Cultivate Labs</a> will be hosting two environments for the GFC: a staging environment and a production environment. The staging environment should be used during development and testing of your system and the production environment should be used during live forecasting.</p>

<p>Note that you will need to register for accounts and generate/use separate oauth tokens for each environment.</p>

<table><thead>
<tr>
<th>Environment</th>
<th>Domain</th>
</tr>
</thead><tbody>
<tr>
<td>Staging</td>
<td>https://api.gfc-staging.com</td>
</tr>
<tr>
<td>Production</td>
<td>https://api.iarpagfchallenge.com</td>
</tr>
</tbody></table>

<h2 id="registration">Registration</h2>

<p>You can register for your GFC API account at:</p>

<table><thead>
<tr>
<th>Environment</th>
<th>URL</th>
</tr>
</thead><tbody>
<tr>
<td>Staging</td>
<td><a href="https://www.gfc-staging.com/users/sign_up">https://www.gfc-staging.com/users/sign_up</a></td>
</tr>
<tr>
<td>Production</td>
<td><a href="https://www.iarpagfchallenge.com/users/sign_up">https://www.iarpagfchallenge.com/users/sign_up</a></td>
</tr>
</tbody></table>

<p>Once you have registered, you can generate &amp; view API tokens by going to:</p>

<table><thead>
<tr>
<th>Environment</th>
<th>URL</th>
</tr>
</thead><tbody>
<tr>
<td>Staging</td>
<td><a href="https://api.gfc-staging.com/api_management/oauth_tokens">https://api.gfc-staging.com/api_management/oauth_tokens</a></td>
</tr>
<tr>
<td>Production</td>
<td><a href="https://api.iarpagfchallenge.com/api_management/oauth_tokens">https://api.iarpagfchallenge.com/api_management/oauth_tokens</a></td>
</tr>
</tbody></table>

<h2 id="forecast-streams">Forecast Streams</h2>

<p>The GFC team is providing a stream of <a href="#prediction-sets">individual-level forecasts</a> and <a href="#consensus-history">aggregate &ldquo;crowd&rdquo; forecasts</a> that are derived from the HFC benchmark condition. The <a href="#prediction-sets">individual-level forecast stream</a> contains forecasts submitted by human participants, while the <a href="#consensus-history">aggregate forecast stream</a> contains a consensus forecast computed by aggregating those individual-level forecasts.</p>

<h2 id="authentication">Authentication</h2>

<p>Authentication is done via OAuth. To obtain an oauth token, you can visit <a href="https://api.iarpagfchallenge.com/api_management/oauth_tokens">https://api.iarpagfchallenge.com/api_management/oauth_tokens</a> (make sure you are logged in first).</p>

<p>All requests to the various APIs should include your token as part of an authorization header. You can see an example curl request to the right (<strong>you will need to replace the oauth token with your token</strong>).</p>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.gfc-staging.com/api/v1/questions"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer b95b4f848cd226e55b7a42f6a8e8669350730270f5a91d64b6c70328b0156d75"</span>
</code></pre>
          <h2 id="pagination">Pagination</h2>

<p>All list-based endpoints utilize pagination and return only the first page by default. To retrieve subsequent pages, you can append a <code class="prettyprint">page</code> parameter to your request (e.g. <code class="prettyprint">/api/v1/questions?page=2</code>).</p>

<p>All paginated endpoints will also include 2 pagination-related response headers: <code class="prettyprint">X-Total-Page-Count</code> and <code class="prettyprint">X-Total-Record-Count</code>. <code class="prettyprint">X-Total-Page-Count</code> contains the total number of pages available for your request, while <code class="prettyprint">X-Total-Record-Count</code> contains the total number of records that will be included across all of those pages.</p>

          <h2 id="push-apis">Push APIs</h2>

<p>The challenge platform provides push-based APIs for <a href="#questions">question</a> creation, update, resolution, and <a href="#clarifications">clarification</a>.</p>

<p>For each of these APIs, the platform will make an HTTP POST request to a URL that you specify. The body of the request will contain JSON matching that from the API documentation for each of those models (e.g. a question creation post-hook will contain the question JSON shown <a href="#questions">here</a>).</p>

<p>To set up a post-hook for any of these APIs, visit:</p>

<table><thead>
<tr>
<th>Environment</th>
<th>URL</th>
</tr>
</thead><tbody>
<tr>
<td>Staging</td>
<td><a href="https://api.gfc-staging.com/api_management/api_post_hooks">https://api.gfc-staging.com/api_management/api_post_hooks</a></td>
</tr>
<tr>
<td>Production</td>
<td><a href="https://api.iarpagfchallenge.com/api_management/api_post_hooks">https://api.iarpagfchallenge.com/api_management/api_post_hooks</a></td>
</tr>
</tbody></table>

          <h1 id="consensus-history">Consensus History</h1>

<h2 id="consensus-history-list">Consensus History List</h2>

<p>The Consensus History API provides a stream of aggregate forecasts derived from forecasts submitted in the HFC benchmark condition. Each time a user submits a forecast in the benchmark condition, the consensus forecasts for that question&rsquo;s answers are recalculated. This endpoint provides a historical record of each consensus forecast change.</p>

<p>Within HFC, the consensus is calculated using an aggregation algorithm called logit. The logit aggregation method is an extremizing method that uses a weighted geometric mean to aggregate forecasts. Forecaster weights are calculated based on 3 factors: historical accuracy, the frequency with which the forecaster updates his or her forecasts, and whether the forecaster completed a training course.</p>

<p>When accessing this API, use the <code class="prettyprint">created_after</code> parameter to pull only those records that have been created since you last accessed the API. <strong>Do not attempt to pull</strong> every record/page of the history, except the first time you hit the API. The data will not change after creation.</p>

<p>Prior to question/answer resolution, the most recent (as determined by <code class="prettyprint">consensus_at</code>) record can be considered the current consensus for that answer.</p>

<h3 id="value-vs-normalized-value">Value vs. Normalized Value</h3>

<p>Each record contains two value fields: <code class="prettyprint">value</code> and <code class="prettyprint">normalized_value</code>. The <code class="prettyprint">value</code> field is the raw output from the aggregation algorithm, while the <code class="prettyprint">normalized_value</code> is the <code class="prettyprint">value</code> field normalized to ensure the answer options in a question sum to 100%.</p>

<h3 id="decay-weighting">Decay &amp; Weighting</h3>

<p>Records contain parameters indicating decay and weighting settings that were used to calculate the consensus. Decay settings generally work by subsetting the individual-level forecasts that are fed to the aggregation algorithm. Weighting applies different weights to different forecasters when calculating the consensus (e.g. more accurate forecasters may have their opinions weighted more heavily).</p>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.gfc-staging.com/aggregation/api/v1/control/consensus_histories"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer b95b4f848cd226e55b7a42f6a8e8669350730270f5a91d64b6c70328b0156d75"</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"consensus_histories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">209</span><span class="p">,</span><span class="w">
      </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
      </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
      </span><span class="s2">"prediction_set_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">265</span><span class="p">,</span><span class="w">
      </span><span class="s2">"consensus_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-26T01:34:39.261Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"strategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aggregation::Strategies::WeightedVoting"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"decay_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aggregation::Decay::NRecent"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"decay_args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"method_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21-WeightedVoting-NRecent"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"weighting_settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"count_of_closed_questions_answered_requirement"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"percentage_of_closed_questions_answered_requirement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
        </span><span class="s2">"minimum_closed_questions_to_enable_accuracy_weighting"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-26T01:34:44.100Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-26T01:34:44.100Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"normalized_value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">208</span><span class="p">,</span><span class="w">
      </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
      </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
      </span><span class="s2">"prediction_set_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">265</span><span class="p">,</span><span class="w">
      </span><span class="s2">"consensus_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-26T01:34:39.261Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"strategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aggregation::Strategies::L2e"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"decay_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aggregation::Decay::NRecent"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"decay_args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"method_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20-L2E"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"weighting_settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"count_of_closed_questions_answered_requirement"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"percentage_of_closed_questions_answered_requirement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
        </span><span class="s2">"minimum_closed_questions_to_enable_accuracy_weighting"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-26T01:34:44.044Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-26T01:34:44.044Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.35</span><span class="p">,</span><span class="w">
      </span><span class="s2">"normalized_value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.35</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.gfc-staging.com/aggregation/api/v1/control/consensus_histories</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>0</td>
<td>Pagination page number</td>
</tr>
<tr>
<td>question_id</td>
<td>none</td>
<td>Returns only history records for the given question.</td>
</tr>
<tr>
<td>created_before</td>
<td>none</td>
<td>Returns only history records created before the passed date. Date should be in iso8601 format (e.g. 2015-08-23T15:43:11-05:00)</td>
</tr>
<tr>
<td>created_after</td>
<td>none</td>
<td>Returns only history records created after the passed date. Date should be in iso8601 format (e.g. 2015-08-23T15:43:11-05:00)</td>
</tr>
</tbody></table>

<h3 id="response-attribute-descriptions">Response Attribute Descriptions</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The id of the consensus history record</td>
</tr>
<tr>
<td>answer_id</td>
<td>integer</td>
<td>The answer that this record pertains to</td>
</tr>
<tr>
<td>question_id</td>
<td>integer</td>
<td>The question id that this record pertains to</td>
</tr>
<tr>
<td>prediction_set_id</td>
<td>integer</td>
<td>The prediction set that caused the consensus change</td>
</tr>
<tr>
<td>consensus_at</td>
<td>datetime</td>
<td>The time at which this was the consensus for the answer</td>
</tr>
<tr>
<td>strategy</td>
<td>string</td>
<td>The aggregation algorithm used to calculate the value</td>
</tr>
<tr>
<td>decay_method</td>
<td>string</td>
<td>The decay method, if any, used to decay forecasts included in the calculation</td>
</tr>
<tr>
<td>decay_args</td>
<td>integer</td>
<td>Parameters/configuration fed to the decay method, if any</td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>The time at which this consensus history record was created</td>
</tr>
<tr>
<td>updated_at</td>
<td>datetime</td>
<td>The time at which this consensus history record was last updated</td>
</tr>
<tr>
<td>value</td>
<td>integer</td>
<td>The raw output value from the aggregation algorithm</td>
</tr>
<tr>
<td>normalized_value</td>
<td>integer</td>
<td>The <code class="prettyprint">value</code> field normalized to ensure the answer options for the question sum to 1.0</td>
</tr>
</tbody></table>

          <h1 id="external-prediction-sets">External Prediction Sets</h1>

<h2 id="external-prediction-sets-creation">External Prediction Sets Creation</h2>

<p>This API is for submitting forecasts, which will then be scored when the question/answer resolves.</p>

<p>Each submission is known as an <code class="prettyprint">ExternalPredictionSet</code> and each prediction set contains 1 or more predictions. If a question has 3 possible answers, then a prediction set for that question should contain 3 predictions &ndash; one for each answer. If a question is a binary question (i.e. a Yes/No question), then the prediction set should have a single prediction (and the opposing value is automatically calculated). Other than binary questions, all predictions in a prediction set should sum to 1.0 (e.g. in a 3-option question, answer a: 0.2, answer b: 0.3, answer c: 0.5).</p>

<p>When submitting a prediction set, you will need to include <code class="prettyprint">question_id</code> and <code class="prettyprint">answer_id</code> values, as illustrated in the request body example to the right. These values can be found via the Questions API in the <code class="prettyprint">id</code> fields.</p>

<p>Each prediction set should also contain information about the method used to generate it. Each method is tracked by the platform with a model known as an <code class="prettyprint">ExternalPredictor</code>. You must embed the name of your forecasting method within the forecast submission, via the <code class="prettyprint">external_predictor_attributes.method_name</code> attribute. <strong>The <code class="prettyprint">method_name</code> field will be used to identify your submission on challenge leaderboards.</strong></p>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X <span class="s2">"POST"</span> <span class="s2">"https://api.gfc-staging.com/api/v1/external_prediction_sets"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer b95b4f848cd226e55b7a42f6a8e8669350730270f5a91d64b6c70328b0156d75"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">external_prediction_set</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">question_id</span><span class="se">\"</span><span class="s2">:123,</span><span class="se">\"</span><span class="s2">external_predictor_attributes</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">method_name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">red</span><span class="se">\"</span><span class="s2">},</span><span class="se">\"</span><span class="s2">external_predictions_attributes</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:0.65,</span><span class="se">\"</span><span class="s2">answer_id</span><span class="se">\"</span><span class="s2">:431},{</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:0.34,</span><span class="se">\"</span><span class="s2">answer_id</span><span class="se">\"</span><span class="s2">:432}]}}"</span>
</code></pre>
<blockquote>
<p>Request body example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"external_prediction_set"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="s2">"external_predictor_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"method_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"external_predictions_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w">
        </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">431</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.05</span><span class="p">,</span><span class="w">
        </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">433</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="s2">"method_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-15T21:07:04.092Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-15T21:07:04.092Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"forecast_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-15T21:07:04Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"external_predictions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">431</span><span class="p">,</span><span class="w">
      </span><span class="s2">"method_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-15T21:07:04.113Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-15T21:07:04.113Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.65</span><span class="p">,</span><span class="w">
      </span><span class="s2">"forecast_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-15T21:07:04Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
      </span><span class="s2">"method_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-15T21:07:04.126Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-15T21:07:04.126Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.35</span><span class="p">,</span><span class="w">
      </span><span class="s2">"forecast_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-15T21:07:04Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.gfc-staging.com/api/v1/external_prediction_sets</code></p>

<h3 id="external-prediction-set-parameters">External Prediction Set Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>question_id</td>
<td>Yes</td>
<td>The question id associated with this forecast</td>
</tr>
<tr>
<td>metadata</td>
<td>Yes</td>
<td>A JSON-formatted string containing metadata describing how this forecast was generated.</td>
</tr>
<tr>
<td>external_predictions_attributes</td>
<td>Yes</td>
<td>An array of external prediction objects that are part of this prediction set. Valid parameters for external predictions are listed below.</td>
</tr>
</tbody></table>

<h3 id="embedded-external-predictor-parameters">Embedded External Predictor Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>method_name</td>
<td>Yes</td>
<td>A string identifying the method you&rsquo;re using to generate this forecast. Can be any string.</td>
</tr>
</tbody></table>

<h3 id="external-prediction-parameters">External Prediction Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>answer_id</td>
<td>Yes</td>
<td>The answer id associated with this forecast</td>
</tr>
<tr>
<td>value</td>
<td>Yes</td>
<td>Contains the value of the forecast. Must be a number between 0 and 1.</td>
</tr>
</tbody></table>

<h3 id="external-prediction-set-response-attribute-descriptions">External Prediction Set Response Attribute Descriptions</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The id of the external prediction</td>
</tr>
<tr>
<td>question_id</td>
<td>integer</td>
<td>The question id associated with this forecast</td>
</tr>
<tr>
<td>answer_id</td>
<td>integer</td>
<td>The answer id associated with this forecast</td>
</tr>
<tr>
<td>method_name</td>
<td>string</td>
<td>The name of the <code class="prettyprint">External Predictor</code> method used to generate the forecast</td>
</tr>
<tr>
<td>forecast_at</td>
<td>date</td>
<td>The auto-generated timestamp of when this forecast was submitted.</td>
</tr>
<tr>
<td>external_predictions</td>
<td>array</td>
<td>An array of external prediction objects, which are described below</td>
</tr>
</tbody></table>

<h3 id="external-prediction-response-attribute-descriptions">External Prediction Response Attribute Descriptions</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The id of the external prediction</td>
</tr>
<tr>
<td>question_id</td>
<td>integer</td>
<td>The question id associated with this forecast</td>
</tr>
<tr>
<td>answer_id</td>
<td>integer</td>
<td>The answer id associated with this forecast</td>
</tr>
<tr>
<td>method_name</td>
<td>string</td>
<td>The name of the <code class="prettyprint">External Predictor</code> method used to generate the forecast</td>
</tr>
<tr>
<td>forecast_at</td>
<td>date</td>
<td>The auto-generated timestamp of when this forecast was submitted. This timestamp is used for scoring forecasts.</td>
</tr>
<tr>
<td>value</td>
<td>float</td>
<td>Contains the forecasted probability</td>
</tr>
</tbody></table>

          <h1 id="prediction-sets">Prediction Sets</h1>

<p>The Prediction Sets API provides a stream of individual-level forecasts submitted by users in the HFC benchmark condition. Each prediction set will contain one prediction for each answer in the question.</p>

<p>If you want to connect all forecasts made by a given forecaster, you can do so using the <code class="prettyprint">membership_guid</code>. This field is a unique identifier for a given forecaster. For example, if John Doe has a <code class="prettyprint">membership_guid=cc4c30df5539f534690f0a36209738ce78a04180</code>, then all of John Doe&rsquo;s forecasts will contain that same value.</p>

<h2 id="prediction-sets-list">Prediction Sets List</h2>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.gfc-staging.com/api/v1/control/prediction_sets"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer b95b4f848cd226e55b7a42f6a8e8669350730270f5a91d64b6c70328b0156d75"</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"prediction_sets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">264</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forecast::OpinionPoolPredictionSet"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-26T01:34:25.519Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-26T01:34:25.519Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"membership_guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cc4c30df5539f534690f0a36209738ce78a04180"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"question_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Will Kim Jong Un, Supreme Leader of North Korea, receive a haircut on 27 January 2018?"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rationale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no way"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"comment_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"predictions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">586</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forecast::Prediction"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
          </span><span class="s2">"membership_guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cc4c30df5539f534690f0a36209738ce78a04180"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-26T01:34:25.530Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-26T01:34:25.530Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"made_after_correctness_known"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="s2">"forecasted_probability"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.05</span><span class="p">,</span><span class="w">
          </span><span class="s2">"starting_probability"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"final_probability"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.05</span><span class="p">,</span><span class="w">
          </span><span class="s2">"answer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yes"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">263</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forecast::OpinionPoolPredictionSet"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-26T01:33:56.946Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-26T01:33:56.946Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"membership_guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6fb38cdbc0340cc7dba954afaefc70b0869f91bb"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"question_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"How many total civilian deaths for January 2018 will the Syrian Network for Human Rights (SNHR) report?"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rationale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sounds right"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"comment_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="s2">"predictions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">583</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forecast::Prediction"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
          </span><span class="s2">"membership_guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6fb38cdbc0340cc7dba954afaefc70b0869f91bb"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-26T01:33:56.957Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-26T01:33:56.957Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"made_after_correctness_known"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="s2">"forecasted_probability"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.25</span><span class="p">,</span><span class="w">
          </span><span class="s2">"starting_probability"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3333</span><span class="p">,</span><span class="w">
          </span><span class="s2">"final_probability"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.25</span><span class="p">,</span><span class="w">
          </span><span class="s2">"answer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Less than 10"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">584</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forecast::Prediction"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">34</span><span class="p">,</span><span class="w">
          </span><span class="s2">"membership_guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6fb38cdbc0340cc7dba954afaefc70b0869f91bb"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-26T01:33:56.962Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-26T01:33:56.962Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"made_after_correctness_known"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="s2">"forecasted_probability"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.45</span><span class="p">,</span><span class="w">
          </span><span class="s2">"starting_probability"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3333</span><span class="p">,</span><span class="w">
          </span><span class="s2">"final_probability"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.45</span><span class="p">,</span><span class="w">
          </span><span class="s2">"answer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Between 10 and 20, inclusive"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">585</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forecast::Prediction"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w">
          </span><span class="s2">"membership_guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6fb38cdbc0340cc7dba954afaefc70b0869f91bb"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-26T01:33:56.967Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-26T01:33:56.967Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"made_after_correctness_known"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="s2">"forecasted_probability"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w">
          </span><span class="s2">"starting_probability"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3333</span><span class="p">,</span><span class="w">
          </span><span class="s2">"final_probability"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w">
          </span><span class="s2">"answer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"More than 20"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.gfc-staging.com/api/v1/control/prediction_sets</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>0</td>
<td>Pagination page number</td>
</tr>
<tr>
<td>question_id</td>
<td>none</td>
<td>Returns predictions for a single question</td>
</tr>
<tr>
<td>created_before</td>
<td>none</td>
<td>Returns only prediction sets created before the passed date. Date should be in iso8601 format (e.g. 2015-08-23T15:43:11-05:00)</td>
</tr>
<tr>
<td>created_after</td>
<td>none</td>
<td>Returns only prediction sets created after the passed date. Date should be in iso8601 format (e.g. 2015-08-23T15:43:11-05:00)</td>
</tr>
<tr>
<td>updated_before</td>
<td>none</td>
<td>Returns only prediction sets updated before the passed date. Date should be in iso8601 format (e.g. 2015-08-23T15:43:11-05:00)</td>
</tr>
<tr>
<td>updated_after</td>
<td>none</td>
<td>Returns only prediction sets updated after the passed date. Date should be in iso8601 format (e.g. 2015-08-23T15:43:11-05:00)</td>
</tr>
</tbody></table>

<h3 id="attribute-descriptions">Attribute Descriptions</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The id of the prediction set</td>
</tr>
<tr>
<td>membership_guid</td>
<td>string</td>
<td>A unique ID for the user who made the forecast</td>
</tr>
<tr>
<td>question_id</td>
<td>integer</td>
<td>The id of the question that this prediction set belongs to</td>
</tr>
<tr>
<td>rationale</td>
<td>string</td>
<td>The text of the rationale (if any) that the user submitted with the forecast</td>
</tr>
<tr>
<td>predictions.id</td>
<td>integer</td>
<td>The id of the prediction</td>
</tr>
<tr>
<td>predictions.answer_id</td>
<td>integer</td>
<td>The id of the answer this prediction belongs to</td>
</tr>
<tr>
<td>predictions.made_after_correctness_known</td>
<td>boolean</td>
<td>Whether or not the prediction was submitted after the &ldquo;correctness&rdquo; of the answer was already known</td>
</tr>
<tr>
<td>predictions.forecasted_probability</td>
<td>float</td>
<td>The probability estimate that the user submitted with the forecast</td>
</tr>
<tr>
<td>predictions.starting_probability</td>
<td>float</td>
<td>The consensus probability of the answer prior to incorporating this forecast</td>
</tr>
<tr>
<td>predictions.final_probability</td>
<td>float</td>
<td>The consensus probability of the answer after incorporating this forecast</td>
</tr>
</tbody></table>

          <h1 id="questions">Questions</h1>

<h2 id="questions-list">Questions List</h2>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.gfc-staging.com/api/v1/questions"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer b95b4f848cd226e55b7a42f6a8e8669350730270f5a91d64b6c70328b0156d75"</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"questions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"question-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forecast::Question"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ends_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-09-15T00:21:35.906Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"question-desc-5"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"published_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"starts_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"resolved_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"voided_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"comments_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.910Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.910Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"active?"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"resolved?"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"use_ordinal_scoring"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cyber attacks"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Natural sciences/Climate"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"North America"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country - Primary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country - Secondary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"France"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"IFP Generation Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Geopolitical Grab Bag"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"answers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.918Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ends_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-04T00:21:35.916Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"answer-name-11"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"probability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3333"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"probability_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33.33%"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resolved_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resolved_by_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"correctness_known_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.918Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.927Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ends_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-04T00:21:35.925Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"answer-name-12"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"probability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3333"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"probability_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33.33%"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resolved_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resolved_by_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"correctness_known_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.927Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.933Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ends_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-04T00:21:35.931Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"answer-name-13"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"probability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3333"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"probability_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33.33%"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resolved_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resolved_by_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"correctness_known_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.933Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"clarifications"</span><span class="p">:[{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="s2">"question_id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="s2">"content"</span><span class="p">:</span><span class="s2">"clarification-content-1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2018-01-15T21:45:32.495Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2018-01-15T21:45:32.495Z"</span><span class="w">
      </span><span class="p">}]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"binary_question-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forecast::Binary::Question"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ends_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-09-15T00:21:35.945Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"question-desc-6"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"published_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"starts_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"resolved_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"voided_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"comments_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.953Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.953Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"active?"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"resolved?"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"use_ordinal_scoring"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cyber attacks"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Natural sciences/Climate"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"North America"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country - Primary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country - Secondary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"France"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"IFP Generation Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Geopolitical Grab Bag"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"answers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.965Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ends_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-04T00:21:35.962Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"answer-name-14"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"probability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"probability_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50.00%"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resolved_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resolved_by_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"correctness_known_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forecast::Binary::Answer"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.965Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.gfc-staging.com/api/v1/questions</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>0</td>
<td>Pagination page number</td>
</tr>
<tr>
<td>status</td>
<td>active</td>
<td>A question status filter to apply to the question list. Possible values: <code class="prettyprint">active</code>, <code class="prettyprint">closed</code>, <code class="prettyprint">all</code>. By default, active questions are returned. To include all questions, you should pass <code class="prettyprint">all</code> for this value.</td>
</tr>
<tr>
<td>sort</td>
<td>published_at</td>
<td>Sort order for the questions. Possible values: <code class="prettyprint">published_at</code>, <code class="prettyprint">ends_at</code>, <code class="prettyprint">resolved_at</code>, <code class="prettyprint">prediction_sets_count</code></td>
</tr>
<tr>
<td>created_before</td>
<td>none</td>
<td>Returns only questions created before the passed date. Date should be in iso8601 format (e.g. 2015-08-23T15:43:11-05:00)</td>
</tr>
<tr>
<td>created_after</td>
<td>none</td>
<td>Returns only questions created after the passed date. Date should be in iso8601 format (e.g. 2015-08-23T15:43:11-05:00)</td>
</tr>
<tr>
<td>updated_before</td>
<td>none</td>
<td>Returns only questions updated before the passed date. Date should be in iso8601 format (e.g. 2015-08-23T15:43:11-05:00)</td>
</tr>
<tr>
<td>updated_after</td>
<td>none</td>
<td>Returns only questions updated after the passed date. Date should be in iso8601 format (e.g. 2015-08-23T15:43:11-05:00)</td>
</tr>
</tbody></table>

<h3 id="question-attributes">Question Attributes</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The id of the question</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The question content</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>The internal question type (e.g. prediction market, binary prediction market, opinion pool)</td>
</tr>
<tr>
<td>ends_at</td>
<td>datetime</td>
<td>The date &amp; time that this question stops accepting forecasts</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>The description &amp; background information for the question</td>
</tr>
<tr>
<td>published_at</td>
<td>datetime</td>
<td>The date &amp; time that this question was published</td>
</tr>
<tr>
<td>starts_at</td>
<td>datetime</td>
<td>The date &amp; time that this question started accepting forecasts</td>
</tr>
<tr>
<td>resolved_at</td>
<td>datetime</td>
<td>The date &amp; time that this question was resolved</td>
</tr>
<tr>
<td>voided_at</td>
<td>datetime</td>
<td>The date &amp; time that this question was voided. Blank if the question has not been voided. A voided question will not be resolved or scored.</td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>The date &amp; time that this question was created</td>
</tr>
<tr>
<td>updated_at</td>
<td>datetime</td>
<td>The date &amp; time that this question was last updated</td>
</tr>
<tr>
<td>active</td>
<td>boolean</td>
<td>Whether or not this question is currently active for forecasting</td>
</tr>
<tr>
<td>resolved</td>
<td>boolean</td>
<td>Whether or not this question has been resolved</td>
</tr>
<tr>
<td>use_ordinal_scoring</td>
<td>boolean</td>
<td>Whether or not this question uses ordinal scoring for calculating Brier scores</td>
</tr>
<tr>
<td>metadata</td>
<td>hash</td>
<td>A hash containing classification information about the question. Keys will included <code class="prettyprint">Topic</code>, <code class="prettyprint">Domain</code>, <code class="prettyprint">Region</code>, <code class="prettyprint">Country - Primary</code>, <code class="prettyprint">Country - Secondary</code>, and <code class="prettyprint">IFP Generation Method</code>.</td>
</tr>
<tr>
<td>clarifications</td>
<td>array</td>
<td>An array of clarifications issued for the question. Used to clarify things like resolution criteria for the question.</td>
</tr>
</tbody></table>

<h3 id="answer-attributes">Answer Attributes</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The id of the answer</td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>The date &amp; time that this answer was created</td>
</tr>
<tr>
<td>updated_at</td>
<td>datetime</td>
<td>The date &amp; time that this answer was last updated</td>
</tr>
<tr>
<td>ends_at</td>
<td>datetime</td>
<td>The date &amp; time that this answer stops accepting forecasts</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The answer content</td>
</tr>
<tr>
<td>probability</td>
<td>float</td>
<td>The current consensus probability for this answer</td>
</tr>
<tr>
<td>probability_formatted</td>
<td>string</td>
<td>The current consensus probability for this answer, formatted as a percentage</td>
</tr>
<tr>
<td>question_id</td>
<td>integer</td>
<td>The id of the question that this answer belongs to</td>
</tr>
<tr>
<td>resolved_at</td>
<td>datetime</td>
<td>The date &amp; time that this answer was resolved</td>
</tr>
<tr>
<td>resolved_by_id</td>
<td>integer</td>
<td>The memebership_id of the membership who resolved this answer</td>
</tr>
<tr>
<td>correctness_known_at</td>
<td>datetime</td>
<td>The date &amp; time that the correctness of this answer was known. If an administrator sets this value when resolving the answer, all forecasts made after it will be invalidated.</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>The internal answer type (e.g. prediction market stock, opinion pool answer)</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
